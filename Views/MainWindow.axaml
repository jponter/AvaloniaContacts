<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:AvaloniaContacts.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="650"
        MinHeight="500"
        MinWidth="900"
      
        Width="1200"
        Height="600"
        x:Class="AvaloniaContacts.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="AvaloniaContacts">

    <Design.DataContext>
        <!-- This only sets the DataContext for the previewer in an IDE,
             to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
        <vm:MainWindowViewModel/>
    </Design.DataContext>

    <Grid ColumnDefinitions="400,*" RowDefinitions="*,*,*" ShowGridLines="false">
        
        <!-- left side  -->
        
       
            <StackPanel Grid.Column="0" Grid.Row="0" Grid.RowSpan="2">
                <Label Content="Contacts" ></Label>
                <ListBox  Height="350"
                    ItemsSource="{Binding   Contacts}"
                         SelectedItem="{Binding SelectedContact, Mode=TwoWay}">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding FullName}"></TextBlock>
                </DataTemplate>
            </ListBox.ItemTemplate>
                </ListBox>
            </StackPanel>
        <!-- <DataGrid ItemsSource="{Binding Contacts}"  Background="White" Foreground="Black" Grid.Column="1"  > -->
        <!--     <DataGrid.Columns> -->
        <!--         <DataGridTextColumn Header="First Name" Binding="{Binding FirstName}"></DataGridTextColumn> -->
        <!--         <DataGridTextColumn Header="First Name" Binding="{Binding LastName}"></DataGridTextColumn> -->
        <!--         <DataGridTextColumn Header="First Name" Binding="{Binding Email}"></DataGridTextColumn> -->
        <!--     </DataGrid.Columns> -->
        <!--     </DataGrid> -->
        <StackPanel Grid.Column="0" Grid.Row="2" Orientation="Horizontal" Margin="0,10,0,0" Spacing="10" VerticalAlignment="Center" HorizontalAlignment="Center">
            <Button  Content="Add Contact" Command="{Binding AddContactCommand}" />
            <Button  Content="Remove Contact" Click="RemoveButton_Click" IsEnabled="{Binding SelectedContact, Converter={StaticResource NotNullToBoolConverter}}" />
        </StackPanel>
           
            
     
        
        <!-- right side -->
        <Grid Grid.Column="1" Grid.RowSpan="2">
            <Border Margin="10" BorderBrush="Black" BorderThickness="1 " Padding="10">
            <StackPanel>
            
                <CheckBox HorizontalAlignment="Right" Content="Unlock to Edit"
                          IsChecked="{Binding IsLocked, Mode=TwoWay}"
                          Margin="0,10,0,10">
                    <CheckBox.RenderTransform>
                        <ScaleTransform ScaleX="1.1" ScaleY="1.1"/>
                    </CheckBox.RenderTransform>
                </CheckBox>
                <StackPanel IsEnabled="{Binding IsLocked, Converter={StaticResource InverseBoolConverter}}" >
                <Label Content="First Name"></Label>
                <TextBox Text="{Binding SelectedContact.FirstName}" ></TextBox>
                <Label Content="Last Name"></Label>
                <TextBox Text="{Binding SelectedContact.LastName}" ></TextBox>
                <Label Content="E-Mail"></Label>
                <TextBox Text="{Binding SelectedContact.Email}" ></TextBox>
                <Label Content="Address"></Label>
                <TextBox MinLines="1" Text="{Binding SelectedContact.Address}" ></TextBox>
                <Label Content="Details"></Label>
                <TextBox MinLines="1" Text="{Binding SelectedContact.Details}" ></TextBox>
                
            </StackPanel>
            </StackPanel>
            </Border>
              
        </Grid>
        
        <StackPanel Grid.Column="1" Grid.Row="2" Orientation="Horizontal" Margin="0,10,0,0" Spacing="10" VerticalAlignment="Center" HorizontalAlignment="Center">
            <Button  Content="Save to DB" Command="{Binding SaveToDatabaseCommand}" />
          
        </StackPanel>
        </Grid>

</Window>
